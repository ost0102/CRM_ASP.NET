#CodeServiceTMS@AreaRouteList
-- CodeServiceTMS@AreaRouteListSELECT LDAREA	AS CODE     , LDARNM	AS NAME  FROM (    SELECT (B.TRNGROUP||' '||A.AREA) AS LDAREA         , (B.LOCNM||' '||A.LOCNM)  AS LDARNM        FROM TMS_TRANSIT_AREA A         , TMS_TRANSIT_GROUP B     WHERE A.TRNGROUP = B.TRNGROUP ) ORDER BY LDAREA
#CodeServiceTMS@AreaRouteSearch
-- CodeServiceTMS@AreaRouteSearchSELECT LDAREA 	AS CODE     , LDARNM 	AS NAME  FROM (    SELECT (B.TRNGROUP||' '||A.AREA)     AS LDAREA         , (B.LOCNM||' '||A.LOCNM)  AS LDARNM        FROM TMS_TRANSIT_AREA A         , TMS_TRANSIT_GROUP B     WHERE A.TRNGROUP = B.TRNGROUP ) WHERE LDARNM LIKE '%@KEY%' ORDER BY LDAREA
#CodeServiceTMS@AreaRouteValidate
-- CodeServiceTMS@AreaRouteValidateSELECT LDAREA 	AS CODE     , LDARNM 	AS NAME  FROM (    SELECT (B.TRNGROUP||' '||A.AREA)     AS LDAREA         , (B.LOCNM||' '||A.LOCNM)  AS LDARNM        FROM TMS_TRANSIT_AREA A         , TMS_TRANSIT_GROUP B     WHERE A.TRNGROUP = B.TRNGROUP ) WHERE LDAREA = '@KEY'
#CodeServiceTMS@Car_LIST
SELECT CAR_NO AS CODE		,LISENCE_NO  FROM TMSCARMST
#CodeServiceTMS@Car_SEARCH
SELECT CAR_NO AS CODE		,LISENCE_NO  FROM TMSCARMST WHERE 1=1  [KEY]  AND CAR_NO = '@KEY' [/KEY]
#CodeServiceTMS@Car_VALIDATE
SELECT CAR_NO AS CODE		,LISENCE_NO  FROM TMSCARMST WHERE CAR_NO = '@KEY'
#CodeServiceTMS@Chassis_LIST
SELECT  TMSCHASSIS_NO AS CODE        ,LISENCE_NO  FROM  TMSCHASSIS 
#CodeServiceTMS@Chassis_SEARCH
SELECT  TMSCHASSIS_NO AS CODE        ,LISENCE_NO  FROM  TMSCHASSIS WHERE  1=1  [KEY] AND TMSCHASSIS_NO = '@KEY' [/KEY] 
#CodeServiceTMS@Chassis_VALIDATE
SELECT  TMSCHASSIS_NO AS CODE        ,LISENCE_NO  FROM  TMSCHASSIS WHERE  TMSCHASSIS_NO = '@KEY'  
#CodeServiceTMS@DetailAreaSearch
-- CodeServiceTMS@DetailAreaSearch-- EPU VersionSELECT LDAREA 	AS CODE     , LDARNM 	AS NAME  FROM (    SELECT (B.TRNGROUP||A.AREA)     AS LDAREA         , (B.LOCNM||' '||A.LOCNM)  AS LDARNM        FROM TMS_TRANSIT_AREA A         , TMS_TRANSIT_GROUP B     WHERE A.TRNGROUP = B.TRNGROUP ) WHERE LDARNM LIKE '%@KEY%' ORDER BY LDAREA
#CodeServiceTMS@DetailAreaValidate
-- CodeServiceTMS@DetailAreaValidate-- EPU VersionSELECT LDAREA 	AS CODE     , LDARNM 	AS NAME  FROM (    SELECT (B.TRNGROUP||A.AREA)     AS LDAREA         , (B.LOCNM||' '||A.LOCNM)  AS LDARNM        FROM TMS_TRANSIT_AREA A         , TMS_TRANSIT_GROUP B     WHERE A.TRNGROUP = B.TRNGROUP ) WHERE LDAREA = '@KEY' ORDER BY LDAREA
#CodeServiceTMS@DriverList
-- CodeServiceTMS@DriverListSELECT A.ID   	AS CODE     , A.NAME 	AS NAME     , A.HPNO 	AS HPNO     , A.LICENSE AS LICENSE     , '' AS DRV_OILCARD  FROM TMS_DRIVER A WHERE 1=1    AND USE_YN='Y' ORDER BY A.ID
#CodeServiceTMS@DriverSearch
-- CodeServiceTMS@DriverSearch  SELECT A.ID 		AS CODE       , A.NAME 	AS NAME       , A.HPNO  	AS HPNO       , A.LICENSE AS LICENSE       , '' AS DRV_OILCARD    FROM TMS_DRIVER A   WHERE (A.ID || A.NAME) LIKE '%@KEY%'     AND USE_YN='Y'   ORDER BY A.ID
#CodeServiceTMS@DriverValidate
-- CodeServiceTMS@DriverValidateSELECT A.ID 	AS CODE     , A.NAME 	AS NAME     , A.HPNO 	AS HPNO     , A.LICENSE AS LICENSE     , '' AS DRV_OILCARD  FROM TMS_DRIVER A WHERE A.ID = '@KEY'    AND USE_YN='Y' 
#CodeServiceTMS@Loc_List
SELECT AREA_CD AS CODE	  ,AREA_NM AS NAME  FROM TMSLOCMST
#CodeServiceTMS@Loc_Search
SELECT AREA_CD AS CODE	  ,AREA_NM AS NAME  FROM TMSLOCMST  WHERE  AREA_CD || AREA_NM LIKE '%@KEY%'
#CodeServiceTMS@Loc_Validate
SELECT AREA_CD AS CODE	  ,AREA_NM AS NAME  FROM TMSLOCMST WHERE AREA_CD = '@KEY'
#CodeServiceTMS@RouteSearch
-- CodeServiceTMS@RouteSearchSELECT A.ROUTECD AS CODE     , A.ROUTENM AS NAME  FROM TMS_ROUTE A WHERE A.ROUTENM LIKE '%@KEY%' ORDER BY A.ROUTENM
#CodeServiceTMS@RouteValidate
-- CodeServiceTMS@RouteValidateSELECT A.ROUTECD AS CODE     , A.ROUTENM AS NAME  FROM TMS_ROUTE A WHERE A.ROUTECD = '@KEY' ORDER BY A.ROUTENM
#CodeServiceTMS@TmsCar_LIST
SELECT T.TRK_CD AS CODE	 , T.TRK_NO AS NAME	 , T.CAR_NO AS CAR_NO	 , T.DRV_CD	AS DRV_CD	 , D.DRV_NM AS DRV_NM	 , NVL(T.CUST_CD, D.CUST_CD) AS CUST_CD	 , UFN_TABLE_ITEM('CUST_LOC_NM',NVL(T.CUST_CD, D.CUST_CD),'@LANG_CD','') AS CUST_NM	 , T.CAR_TYPE AS CAR_TYPE  FROM TMS_TRK_MST T  LEFT   JOIN TMS_DRV_MST D    ON T.DRV_CD	= D.DRV_CD  WHERE T.USE_YN ='Y'
#CodeServiceTMS@TmsCar_SEARCH
SELECT T.TRK_CD AS CODE	 , T.TRK_NO AS NAME	 , T.CAR_NO AS CAR_NO	 , T.DRV_CD	AS DRV_CD	 , D.DRV_NM AS DRV_NM	 , NVL(T.CUST_CD, D.CUST_CD) AS CUST_CD	 , UFN_TABLE_ITEM('CUST_LOC_NM',NVL(T.CUST_CD, D.CUST_CD),'@LANG_CD','') AS CUST_NM	 , T.CAR_TYPE AS CAR_TYPE  FROM TMS_TRK_MST T  LEFT   JOIN TMS_DRV_MST D    ON T.DRV_CD	= D.DRV_CD WHERE (T.TRK_NO LIKE '%@KEY%' OR T.TRK_CD LIKE '%@KEY%')  AND T.USE_YN ='Y'
#CodeServiceTMS@TmsCar_VALIDATE
SELECT T.TRK_CD AS CODE	 , T.TRK_NO AS NAME	 , T.CAR_NO AS CAR_NO	 , T.DRV_CD	AS DRV_CD	 , D.DRV_NM AS DRV_NM	 , NVL(T.CUST_CD, D.CUST_CD) AS CUST_CD	 , UFN_TABLE_ITEM('CUST_LOC_NM',NVL(T.CUST_CD, D.CUST_CD),'@LANG_CD','') AS CUST_NM	 , T.CAR_TYPE AS CAR_TYPE  FROM TMS_TRK_MST T  LEFT   JOIN TMS_DRV_MST D    ON T.DRV_CD	= D.DRV_CD WHERE T.TRK_CD = '@KEY'   AND T.USE_YN ='Y'
#CodeServiceTMS@TmsChassis_LIST
Select TMSCHASSIS_NO AS CODE	, LISENCE_NO AS NAMEFrom TMSCHASSIS
#CodeServiceTMS@TmsChassis_SEARCH
Select TMSCHASSIS_NO AS CODE	, LISENCE_NO AS NAMEFrom TMSCHASSISWhere TMSCHASSIS_NO LIKE '%@KEY%'
#CodeServiceTMS@TmsChassis_VALIDATE
Select TMSCHASSIS_NO AS CODE	, LISENCE_NO AS NAMEFrom TMSCHASSISWhere TMSCHASSIS_NO = '@KEY'
#CodeServiceTMS@TmsDest
-- CodeService@TmsDestSELECT DEST_CD 		AS CODE	 , DEST_NM 		AS NAME	 , ACT_SHIP_CD	AS CUST_CD	 , ACT_SHIP_NM	AS ACT_SHIP_NM	 , DEST_INFO    AS DEST_INFO  FROM TMSDESTMST WHERE        NVL(USE_YN, 'Y') <> 'N'   AND ACT_SHIP_CD = '@ACT_SHIP_CD'     [DEFAULT]		AND ((NVL(DEST_CD,'') LIKE '%@KEY%') OR (NVL(DEST_NM,'') LIKE '%@KEY%' ))   [/DEFAULT]    [VALIDATE]		AND DEST_CD = '@KEY'    [/VALIDATE]   ORDER BY DEST_CD
#CodeServiceTMS@TmsDestPort
-- CodeService@TmsDestSELECT PORT.LOC_CD 		AS CODE	 , PORT.LOC_NM 		AS NAME	 , ''	            AS CUST_CD	 , ''	            AS ACT_SHIP_NM	 , ''               AS DEST_INFO  FROM MDM_PORT_MST PORT  	 , MDM_CTRY_MST CTRY WHERE 1=1   AND NVL(PORT.USE_YN, 'Y') <> 'N'   AND PORT.CTRY_CD = CTRY.CTRY_CD   [DEFAULT]		AND ((NVL(LOC_CD,'') LIKE '%@KEY%') OR (NVL(LOC_NM,'') LIKE '%@KEY%' ))   [/DEFAULT]   [Country]		AND PORT.CTRY_CD = '@Country'   [/Country]		AND PORT.LOC_TYPE = 'I'   [VALIDATE]		AND PORT.LOC_CD = '@KEY'    [/VALIDATE]   ORDER BY PORT.LOC_CD
#CodeServiceTMS@TmsDriver_LIST
SELECT RTRIM(DRV_CD) AS CODE, DRV_NM AS NAME   FROM TMSDRVMST WHERE RESIGN_DT IS NULL
#CodeServiceTMS@TmsDriver_SEARCH
Select RTRIM(DRV_CD) AS CODE	, DRV_NM AS NAMEFrom TMSDRVMSTWhere DRV_CD || DRV_NM LIKE '%@KEY%'  AND RESIGN_DT IS NULLGroup By DRV_CD, DRV_NM
#CodeServiceTMS@TmsDriver_VALIDATE
Select RTRIM(DRV_CD) AS CODE      , DRV_NM AS NAME      , MAX(HP_NO) AS CAR_OWN_HP      , MAX(BANK_NM) BANK_NM      , MAX(BANK_NO) BANK_ACT_NOFrom TMSDRVMSTWhere DRV_CD || DRV_NM LIKE '%@KEY%'  AND RESIGN_DT IS NULLGroup By DRV_CD, DRV_NM
#CodeServiceTMS@TmsDriver3_LIST
--CodeServiceTMS@TmsDriver3_LISTSelect 	 DRM.DRV_CD AS CODE 	,DRM.DRV_NM AS NAME	,DRM.HP_NO AS HP_NO	,TRM.TRK_CD AS TRK_CD	,DRM.CUST_CD AS CUST_CD    ,UFN_TABLE_ITEM('CUST_LOC_NM',DRM.CUST_CD,'@LANG_CD','') AS CUST_NM    ,(SELECT TEL_NO FROM MDM_CUST_MST WHERE CUST_CD = DRM.CUST_CD) AS TEL  	,(SELECT FAX_NO FROM MDM_CUST_MST WHERE CUST_CD = DRM.CUST_CD) AS FAX 	,(SELECT BL_ADDR FROM MDM_CUST_MST WHERE CUST_CD = DRM.CUST_CD) AS ADDR 	,(SELECT BANK_TITLE || BANK_NM  FROM MDM_CUST_BANK WHERE CUST_CD = DRM.CUST_CD) AS CREDITFrom TMS_DRV_MST DRMLEFTJOIN TMS_TRK_MST TRM  ON DRM.DRV_CD = TRM.DRV_CD AND TRM.USE_YN = 'Y'WHERE DRM.USE_YN ='Y'
#CodeServiceTMS@TmsDriver3_SEARCH
--CodeServiceTMS@TmsDriver3_SEARCHSelect 	 DRM.DRV_CD AS CODE 	,DRM.DRV_NM AS NAME	,DRM.HP_NO AS HP_NO	,TRM.TRK_CD AS TRK_CD	,DRM.CUST_CD AS CUST_CD    ,UFN_TABLE_ITEM('CUST_LOC_NM',DRM.CUST_CD,'@LANG_CD','') AS CUST_NM    ,(SELECT TEL_NO FROM MDM_CUST_MST WHERE CUST_CD = DRM.CUST_CD) AS TEL  	,(SELECT FAX_NO FROM MDM_CUST_MST WHERE CUST_CD = DRM.CUST_CD) AS FAX 	,(SELECT BL_ADDR FROM MDM_CUST_MST WHERE CUST_CD = DRM.CUST_CD) AS ADDR 	,(SELECT BANK_TITLE || BANK_NM  FROM MDM_CUST_BANK WHERE CUST_CD = DRM.CUST_CD) AS CREDITFrom TMS_DRV_MST DRMLEFTJOIN TMS_TRK_MST TRM  ON DRM.DRV_CD = TRM.DRV_CD  AND TRM.USE_YN = 'Y'Where DRM.USE_YN ='Y'  AND (DRM.DRV_CD LIKE '%@KEY%' OR DRM.DRV_NM LIKE '%@KEY%')
#CodeServiceTMS@TmsDriver3_VALIDATE
--CodeServiceTMS@TmsDriver3_VALIDATESelect 	 DRM.DRV_CD AS CODE 	,DRM.DRV_NM AS NAME	,DRM.HP_NO AS HP_NO	,TRM.TRK_CD AS TRK_CD	,DRM.CUST_CD AS CUST_CD    ,UFN_TABLE_ITEM('CUST_LOC_NM',DRM.CUST_CD,'@LANG_CD','') AS CUST_NM    ,(SELECT TEL_NO FROM MDM_CUST_MST WHERE CUST_CD = DRM.CUST_CD) AS TEL  	,(SELECT FAX_NO FROM MDM_CUST_MST WHERE CUST_CD = DRM.CUST_CD) AS FAX 	,(SELECT BL_ADDR FROM MDM_CUST_MST WHERE CUST_CD = DRM.CUST_CD) AS ADDR 	,(SELECT BANK_TITLE || BANK_NM  FROM MDM_CUST_BANK WHERE CUST_CD = DRM.CUST_CD) AS CREDITFrom TMS_DRV_MST DRMLEFTJOIN TMS_TRK_MST TRM  ON DRM.DRV_CD = TRM.DRV_CD AND TRM.USE_YN = 'Y' AND TRM.DRV_CD = '@KEY'Where DRM.DRV_CD = '@KEY'  AND DRM.USE_YN ='Y'
#CodeServiceTMS@TmsExistDest
SELECT ACT_SHIP_CD        DEST_CD  FROM TMSDESTMST WHERE ACT_SHIP_CD = '@ACT_SHIP_CD'
#CodeServiceTMS@TmsLiteCustArea_LIST
--CodeServiceTMS@TmsLiteCustArea_LISTSELECT*FROM(SELECT '1' AS SEQ     , TO_CHAR(SEQ) AS CODE     , AREA_CD  || ' / ' || AREA_NM AS NAME     , PIC_NM AS PIC_NM     , PIC_HP_NO AS PIC_TEL     , RMK AS PIC_ADDR  FROM TMS_ACT_CUST WHERE CUST_CD = '@CUST_CD' [PORT]UNION ALLSELECT '2' AS SEQ     , LOC_CD AS CODE      , LOC_NM AS NAME     , '' AS PIC_NM     , '' AS PIC_TEL     , '' AS PIC_ADDR  FROM MDM_PORT_MST WHERE LOC_CD || LOC_NM LIKE '%@KEY%'    AND LOC_TYPE = 'I'   AND USE_YN = 'Y'[/PORT][WH]UNION ALLSELECT '3' AS SEQ     , WH_CD AS CODE     , WH_NM AS NAME     , WH_PIC AS PIC_NM     , TEL_NO AS PIC_TEL     , '' AS PIC_ADDR  FROM MDM_WH_MST WHERE WH_CD || WH_NM LIKE '%@KEY%'   AND USE_YN = 'Y'[/WH][COMMON]UNION ALLSELECT '4' AS SEQ     , COMN_CD AS CODE     , CD_NM AS NAME     , OPT_ITEM1 AS PIC_NM     , OPT_ITEM2 AS PIC_TEL     , OPT_ITEM3 AS PIC_ADDR  FROM MDM_COM_CODE WHERE GRP_CD = 'T21'   AND USE_YN = 'Y'[/COMMON]--UNION ALL--SELECT '4' AS SEQ--     , CUST_CD AS CODE--     , UFN_LOCAL_NAME('ko-KR',CUST_CD,'C01','',CUST_NM,'','','') AS CUST_LOCNM--  FROM MDM_CUST_MST-- WHERE CUST_CD || CUST_NM LIKE '%@KEY%'--   AND CTRY_CD = 'KR'--   AND USE_YN = 'Y'      )AORDER BY A.SEQ, A.CODE
#CodeServiceTMS@TmsLiteCustArea_SEARCH
--CodeServiceTMS@TmsLiteCustArea_SEARCHSELECT*FROM(SELECT '1' AS SEQ     , TO_CHAR(SEQ) AS CODE     , AREA_CD  || ' / ' || AREA_NM AS NAME     , PIC_NM AS PIC_NM     , PIC_HP_NO AS PIC_TEL  FROM TMS_ACT_CUST WHERE (TO_CHAR(SEQ) LIKE '%@KEY%' OR AREA_CD LIKE '%@KEY%' OR AREA_NM LIKE '%@KEY%')   AND CUST_CD = '@CUST_CD'[PORT]UNION ALLSELECT '2' AS SEQ     , LOC_CD AS CODE      , LOC_NM AS NAME     , '' AS PIC_NM     , '' AS PIC_TEL  FROM MDM_PORT_MST WHERE LOC_CD || LOC_NM LIKE '%@KEY%'    AND LOC_TYPE = 'I'   AND USE_YN = 'Y'[/PORT][WH]UNION ALLSELECT '3' AS SEQ     , WH_CD AS CODE     , WH_NM AS NAME     , WH_PIC AS PIC_NM     , TEL_NO AS PIC_TEL  FROM MDM_WH_MST WHERE WH_CD || WH_NM LIKE '%@KEY%'   AND USE_YN = 'Y'[/WH][COMMON]UNION ALLSELECT '4' AS SEQ     , COMN_CD AS CODE     , CD_NM AS NAME     , OPT_ITEM1 AS PIC_NM     , OPT_ITEM2 AS PIC_TEL  FROM MDM_COM_CODE WHERE GRP_CD = 'T21'   AND USE_YN = 'Y'   AND COMN_CD LIKE '%@KEY%'[/COMMON]--UNION ALL--SELECT '4' AS SEQ--     , CUST_CD AS CODE--     , UFN_LOCAL_NAME('ko-KR',CUST_CD,'C01','',CUST_NM,'','','') AS CUST_LOCNM--  FROM MDM_CUST_MST-- WHERE CUST_CD || CUST_NM LIKE '%@KEY%'--   AND CTRY_CD = 'KR'--   AND USE_YN = 'Y'      )AORDER BY A.SEQ, A.CODE
#CodeServiceTMS@TmsLiteCustArea_VALIDATE
--CodeServiceTMS@TmsLiteCustArea_VALIDATESELECTA.*FROM(SELECT TO_CHAR(SEQ) AS CODE     , AREA_CD AS NAME     , PIC_NM AS PIC_NM     , PIC_HP_NO AS PIC_TEL     , AREA_NM AS PIC_ADDR  FROM TMS_ACT_CUST WHERE (TO_CHAR(SEQ) = (CASE WHEN TRANSLATE('@KEY','0123456789'||'@KEY', '0123456789') IS NULL THEN '0' ELSE '@KEY' END)          OR AREA_CD = '@KEY' )   AND CUST_CD = '@CUST_CD'[PORT]   UNION ALLSELECT LOC_CD AS CODE      , LOC_NM AS NAME     , '' AS PIC_NM     , '' AS PIC_TEL     , '' AS PIC_ADDR  FROM MDM_PORT_MST WHERE LOC_CD = '@KEY'    AND LOC_TYPE = 'I'   AND USE_YN = 'Y'[/PORT][WH]UNION ALLSELECT WH_CD AS CODE      , WH_NM AS NAME     , WH_PIC AS PIC_NM     , TEL_NO AS PIC_TEL     , '' AS PIC_ADDR  FROM MDM_WH_MST WHERE WH_CD = '@KEY'    AND USE_YN = 'Y'[/WH][COMMON]UNION ALLSELECT COMN_CD AS CODE     , CD_NM AS NAME     , OPT_ITEM1 AS PIC_NM     , OPT_ITEM2 AS PIC_TEL     , OPT_ITEM3 AS PIC_ADDR  FROM MDM_COM_CODE WHERE GRP_CD = 'T21'   AND USE_YN = 'Y'   AND COMN_CD = '@KEY'[/COMMON]--UNION ALL----SELECT CUST_CD AS CODE --     , UFN_LOCAL_NAME('ko-KR',CUST_CD,'C01','',CUST_NM,'','','') AS CUST_LOCNM--  FROM MDM_CUST_MST-- WHERE CUST_CD = '@KEY' --   AND CTRY_CD = 'KR'--   AND USE_YN = 'Y')A 
#CodeServiceTMS@TmsLiteCustomer
-- CodeService@CustomerSELECT A.CODE     , A.NAME     , (CASE WHEN A.TRK_CNT = 1 THEN A.TRK_CD            ELSE '' END) AS TRK_CD     , (CASE WHEN A.TRK_CNT = 1 THEN (SELECT MAX(DRV_CD) FROM TMS_TRK_MST WHERE CUST_CD = A.CODE AND TRK_CD = A.TRK_CD)            ELSE '' END) AS DRV_CD     , (CASE WHEN A.TRK_CNT = 1 THEN (SELECT HP_NO FROM TMS_DRV_MST WHERE DRV_CD = (SELECT MAX(DRV_CD) FROM TMS_TRK_MST WHERE CUST_CD = A.CODE AND TRK_CD = A.TRK_CD))            ELSE '' END) AS HP_NO     , (CASE WHEN A.ACT_CNT = 1 THEN (SELECT MAX(AREA_CD) FROM TMS_ACT_CUST WHERE CUST_CD = A.CODE AND SEQ = A.ACT_SEQ)            ELSE '' END) AS AREA_CD     , (CASE WHEN A.ACT_CNT = 1 THEN (SELECT MAX(AREA_NM) FROM TMS_ACT_CUST WHERE CUST_CD = A.CODE AND SEQ = A.ACT_SEQ)            ELSE '' END) AS AREA_NM     , (CASE WHEN A.ACT_CNT = 1 THEN (SELECT MAX(PIC_NM) FROM TMS_ACT_CUST WHERE CUST_CD = A.CODE AND SEQ = A.ACT_SEQ)            ELSE '' END) AS AREA_NM     --, (SELECT MAX(DRV_CD) FROM TMS_TRK_MST WHERE CUST_CD = A.CODE AND TRK_CD = A.TRK_CD) AS DRV_CD     --, (SELECT HP_NO FROM TMS_DRV_MST WHERE DRV_CD = (SELECT MAX(DRV_CD) FROM TMS_TRK_MST WHERE CUST_CD = A.CODE AND TRK_CD = A.TRK_CD)) AS HP_NO     , A.CUST_LOCNM     , A.OFFICE_ADDR     , A.ENG_ADDR     , A.CRN     , A.CUST_GRP_CD     , A.CURR_CD     , A.BL_ADDR     , A.BL_ADDR_INFO     , A.CEO     , A.BIZCOND     , A.BIZTYPE     , NVL(A.JOB_TYPE,'ZZ') AS JOB_TYPE     , A.USE_YN     [BL_ADDR]        , A.BL_ADDR_NAME      [/BL_ADDR]     [BL_ADDR_TEL_FAX]        , A.BL_ADDR_NAME || CHR(13)|| CHR(10) || 'TEL:' || A.TEL || CHR(13)|| CHR(10) || 'FAX:' || A.FAX  AS BL_ADDR_NAME     [/BL_ADDR_TEL_FAX]     , A.RMK     , A.LOC_FRGN_TYPE     , A.CTRY_CD     , A.TEL     , A.FAX     , A.LOC_AMT_ROUND_RULE     , A.VAT_AMT_ROUND_RULE     , A.SALES_CD     , A.ORGN_NM     , A.PIC_CD     , A.FIRM_CD      , A.JOB_TYPE      , (SELECT MIN(BANK.BANK_TITLE) || MIN(BANK.BANK_NM)            FROM MDM_CUST_BANK BANK         WHERE BANK.CUST_CD = A.CODE         ) AS BANK     , (SELECT B.CUST_PIC_NM          FROM MDM_CUST_PIC B         WHERE B.OFFICE_CD = '@OFFICE_CD'           AND B.CUST_CD = A.CODE           AND B.LINE_NO = A.PIC_CD       ) AS PIC_NM     , (SELECT B.EMAIL          FROM MDM_CUST_PIC B         WHERE B.OFFICE_CD = '@OFFICE_CD'           AND B.CUST_CD = A.CODE           AND B.LINE_NO = A.PIC_CD       ) AS PIC_EMAIL     , A.OFFICE_CD     [SELECT_SEARCH]         ,'' AS SALES_NM     [/SELECT_SEARCH]     [SELECT_VALIDATE]         ,(SELECT MAX(LOC_NM)              FROM MDM_USER_MST             WHERE USR_ID = A.SALES_CD           ) AS SALES_NM     [/SELECT_VALIDATE]   , A.SALES_TYPE   [ID_PPH_TAX]   , A.ID_PPH_TAX    AS ID_PPH23_TAX   [/ID_PPH_TAX]   [SISK]    , A.DIRECT_GB   [/SISK]   --, A.CUST_DPNT_CD   --, (SELECT B.CUST_DPNT_NM   --       FROM MDM_CUST_DPNT B   --      WHERE B.CUST_CD = A.CODE   --        AND B.CUST_DPNT_CD = A.CUST_DPNT_CD   --    ) AS CUST_DPNT_NMFROM (    SELECT A.CUST_CD         AS CODE         , A.CUST_NM         AS NAME         , (SELECT MAX(TRK_CD) FROM TMS_TRK_MST WHERE CUST_CD = A.CUST_CD) AS TRK_CD         , (SELECT COUNT(TRK_CD) FROM TMS_TRK_MST WHERE CUST_CD = A.CUST_CD) AS TRK_CNT         , (SELECT MAX(SEQ) FROM TMS_ACT_CUST WHERE CUST_CD = A.CUST_CD) AS ACT_SEQ         , (SELECT COUNT(SEQ) FROM TMS_ACT_CUST WHERE CUST_CD = A.CUST_CD) AS ACT_CNT         , UFN_LOCAL_NAME('@LANG_CD',A.CUST_CD,'C01','',A.CUST_NM,'','','') AS CUST_LOCNM         , UFN_LOCAL_NAME('@LANG_CD',A.CUST_CD,'C02','',A.ENG_ADDR,'','','') AS OFFICE_ADDR         , A.ENG_ADDR        AS ENG_ADDR         , A.CRN             AS CRN         , A.CUST_GRP_CD     AS CUST_GRP_CD         , A.CURR_CD         AS CURR_CD         , A.BL_ADDR         AS BL_ADDR         , A.BL_ADDR || CHR(13)|| CHR(10) || 'TEL : ' || A.TEL_NO || '  FAX : ' || A.FAX_NO AS BL_ADDR_INFO         , A.CEO             AS CEO         , A.BIZCOND         AS BIZCOND         , A.JOB_TYPE        AS JOB_TYPE         , A.BIZTYPE         AS BIZTYPE         , A.USE_YN          AS USE_YN         , A.CUST_NM || CHR(13)|| CHR(10) || NVL(A.BL_ADDR,'') AS BL_ADDR_NAME         , A.RMK             AS RMK         , CASE WHEN X.LOC_FRGN_TYPE IS NULL                THEN DECODE(A.CTRY_CD,'@CTRY_CD','L','F')                ELSE X.LOC_FRGN_TYPE           END AS LOC_FRGN_TYPE         , A.CTRY_CD         AS CTRY_CD         , A.TEL_NO          AS TEL         , A.FAX_NO          AS FAX         , NVL(A.LOC_AMT_ROUND_RULE,'N') AS LOC_AMT_ROUND_RULE         , NVL(A.VAT_AMT_ROUND_RULE,'N') AS VAT_AMT_ROUND_RULE         , A.ORGN_NM         [REQ_SVC_NORMAL]         , (SELECT MIN(B.LINE_NO)                      FROM MDM_CUST_PIC B             WHERE B.OFFICE_CD = '@OFFICE_CD'               AND B.CUST_CD = '@KEY'                 AND B.REQ_SVC IN ('@REQ_SVC','ALL')                  AND B.REQ_SVC = '@REQ_SVC'                [EX_IM_TYPE]                 AND EX_IM_TYPE  = '@EX_IM_TYPE'                [/EX_IM_TYPE]            ) AS PIC_CD         [/REQ_SVC_NORMAL]         [REQ_SVC_ONLY]          , (SELECT LINE_NO                 FROM(SELECT row_Number()OVER(PARTITION BY  CUST_CD ORDER BY CASE WHEN  B.REQ_SVC = '@REQ_SVC' THEN 1 ELSE 2 END,LINE_NO DESC) AS KEY                            , LINE_NO                       FROM MDM_CUST_PIC B                      WHERE B.OFFICE_CD = '@OFFICE_CD'                        AND B.CUST_CD = '@KEY'                        AND B.REQ_SVC = '@REQ_SVC'                      [EX_IM_TYPE]                        AND EX_IM_TYPE  = '@EX_IM_TYPE'                      [/EX_IM_TYPE]                    )                WHERE KEY = 1           ) AS PIC_CD         [/REQ_SVC_ONLY]         , A.FIRM_CD         , (SELECT C.OFFICE_CD              FROM MDM_USER_MST C             WHERE C.USR_ID = A.INS_USR           ) AS OFFICE_CD         [SEARCH_NULL]             , '' AS SALES_CD         [/SEARCH_NULL]         [SELECT_SEARCH]             , '' AS SALES_CD         [/SELECT_SEARCH]         [SELECT_VALIDATE]            ,(SELECT MAX(SALES_CD)                 FROM MDM_CUST_SALES X               WHERE OFFICE_CD = '@OFFICE_CD'                 AND CUST_CD = '@KEY'                 AND REQ_SVC IN ('@REQ_SVC','ALL')              ) AS SALES_CD             [/SELECT_VALIDATE]              , A.SALES_TYPE         [ID_PPH_TAX]         , NVL(A.ID_PPH_TAX,0) AS ID_PPH_TAX         [/ID_PPH_TAX]         [SISK]         , A.DIRECT_GB         [/SISK]         --, (SELECT MIN(B.CUST_DPNT_CD)                 --    FROM MDM_CUST_DPNT B         --    WHERE B.CUST_CD = '@KEY'         --  ) AS CUST_DPNT_CD      FROM MDM_CUST_MST A                  LEFT OUTER JOIN MDM_CUST_OFFICE X                ON X.CUST_CD = A.CUST_CD               AND X.OFFICE_CD = '@OFFICE_CD'           --LEFT OUTER JOIN MDM_LANG_NAME C           --  ON C.REQ_CD = A.CUST_CD           -- AND C.ITEM_CD = 'C01'           -- AND C.LANG_CD = '@LANG_CD'     WHERE 1 = 1     [SELL_BUY_TYPE]         AND X.SELL_BUY_TYPE = '@SELL_BUY_TYPE'     [/SELL_BUY_TYPE]         [OFFICE_TYPE]         AND X.OFFICE_CD = '@OFFICE_CD'         [/OFFICE_TYPE]          [USE_YN_Y]       AND A.USE_YN = 'Y'     [/USE_YN_Y]     [USE_YN_N]       AND A.USE_YN = 'N'     [/USE_YN_N]       [CUST_TYPE]            AND A.CUST_CD = (SELECT MAX(CUST_CD)                                FROM MDM_CUST_TYPE                               WHERE CUST_CD = A.CUST_CD                                AND CUST_TYPE = '@CUST_TYPE'                                AND OFFICE_CD = '@OFFICE_CD')       [/CUST_TYPE]                [VALIDATE]               AND A.CUST_CD = '@KEY'        [/VALIDATE]       [VALIDATE_LIKE]               AND ((A.CUST_NM LIKE '%@KEY%') OR (UFN_LOCAL_NAME('@LANG_CD',A.CUST_CD,'C01','',A.CUST_NM,'','','') LIKE '%@KEY%'))       [/VALIDATE_LIKE]      ) AWHERE 1=1           [SEARCH]          AND (                   A.CODE  LIKE '@KEY%'            OR A.NAME  LIKE '@KEY%'            OR A.CUST_LOCNM LIKE '@KEY%'            OR A.OFFICE_ADDR LIKE '@KEY%'            OR A.CRN      LIKE '@KEY%'                OR A.ENG_ADDR LIKE '@KEY%'                OR A.CEO      LIKE '@KEY%'                OR A.CTRY_CD  LIKE '@KEY%' )   [/SEARCH]ORDER BY A.CODE
#CodeServiceTMS@TmsLiteCustomerSearch
-- CodeService@CustomerSearchSELECT A.CUST_CD         AS CODE     , CASE WHEN '@FORM_TYPE' = 'B' OR '@FORM_TYPE' = 'S'      		THEN UFN_LOCAL_NAME('@LANG_CD',A.CUST_CD,'C01','',A.CUST_NM,'','','')     		ELSE A.CUST_NM END        AS NAME     , UFN_LOCAL_NAME('@LANG_CD',A.CUST_CD,'C01','',A.CUST_NM,'','','') AS CUST_LOCNM     , UFN_LOCAL_NAME('@LANG_CD',A.CUST_CD,'C02','',A.ENG_ADDR,'','','') AS OFFICE_ADDR     , A.ENG_ADDR || 'ENG' AS ENG_ADDR     , A.CRN     , A.CUST_GRP_CD     , A.CURR_CD     , A.BL_ADDR     , A.CEO     , A.BIZCOND     , A.BIZTYPE     , NVL(A.JOB_TYPE,'ZZ') AS JOB_TYPE     , A.USE_YN     , A.CUST_NM || CHR(13)|| CHR(10) || NVL(A.BL_ADDR,'') AS BL_ADDR_NAME      , A.RMK     , CASE WHEN A.LOC_FRGN_TYPE IS NULL            THEN DECODE(A.CTRY_CD,'@CTRY_CD','L','F')            ELSE A.LOC_FRGN_TYPE       END AS LOC_FRGN_TYPE     , A.CTRY_CD     , A.TEL_NO AS TEL     , A.FAX_NO AS FAX     , NVL(A.LOC_AMT_ROUND_RULE,'N') AS LOC_AMT_ROUND_RULE     , NVL(A.VAT_AMT_ROUND_RULE,'N') AS VAT_AMT_ROUND_RULE     , '' AS SALES_CD  	 , '' AS SALES_NM     , A.ORGN_NM     , (SELECT MIN(B.LINE_NO)           FROM MDM_CUST_PIC B         WHERE B.OFFICE_CD = '@OFFICE_CD'           AND B.CUST_CD = A.CUST_CD      	   AND B.REQ_SVC = '@REQ_SVC'       ) AS PIC_CD       , A.FIRM_CD      , A.JOB_TYPE      , (SELECT MIN(BANK.BANK_TITLE) || MIN(BANK.BANK_NM)            FROM MDM_CUST_BANK BANK         WHERE BANK.CUST_CD = A.CUST_CD         ) AS BANK     , (SELECT B.CUST_PIC_NM          FROM MDM_CUST_PIC B         WHERE B.OFFICE_CD = '@OFFICE_CD'           AND B.CUST_CD = A.CUST_CD           AND B.LINE_NO = (SELECT MIN(B.LINE_NO)                               FROM MDM_CUST_PIC B                             WHERE B.OFFICE_CD = '@OFFICE_CD'                               AND B.CUST_CD = A.CUST_CD                        	   AND B.REQ_SVC = '@REQ_SVC')       ) AS PIC_NM     , (SELECT C.OFFICE_CD          FROM MDM_USER_MST C         WHERE C.USR_ID = A.INS_USR       ) AS OFFICE_CD     , A.SUB_PLACE_CDFROM (	SELECT A.CUST_CD     , A.CUST_GRP_CD  , A.USE_YN     , A.CUST_NM    , A.ENG_ADDR 	     , A.BL_ADDR     , A.ZIP_NO       , A.TEL_NO     , A.FAX_NO     , A.CRN 	     , A.CEO         , A.BIZCOND      , A.BIZTYPE     	     , A.CURR_CD     , A.CTRY_CD      , A.FIRM_CD     , A.ORGN_NM	     , A.LOC_AMT_ROUND_RULE     , A.VAT_AMT_ROUND_RULE 	     , A.JOB_TYPE    , A.CITY_CD      , A.INS_USR	     , TO_CHAR(A.RMK)  AS RMK,  X.LOC_FRGN_TYPE	     , A.SUB_PLACE_CD	  FROM MDM_CUST_MST A		  		 LEFT OUTER JOIN MDM_CUST_OFFICE X 	  		        ON X.CUST_CD = A.CUST_CD 	  		       AND X.OFFICE_CD = '@OFFICE_CD'	  	 WHERE A.USE_YN = 'Y'			[SELL_BUY_TYPE]		 	AND X.SELL_BUY_TYPE = '@SELL_BUY_TYPE'		[/SELL_BUY_TYPE]		[OFFICE_TYPE]			AND X.OFFICE_CD = '@OFFICE_CD'			[/OFFICE_TYPE]	    [SEARCH_NULL]	    	[NORMAL]	        [EXACT_FALSE]       		     AND A.CUST_NM LIKE '%@KEY%'       		[/EXACT_FALSE]	        [EXACT_TRUE]       		     AND A.CUST_NM LIKE '@KEY%'       		[/EXACT_TRUE]       		[/NORMAL]       		[GRPCD_SEARCH]       		     AND A.CUST_GRP_CD LIKE '@KEY%'       		[/GRPCD_SEARCH]		    UNION	 			SELECT A.CUST_CD     , A.CUST_GRP_CD  , A.USE_YN     , A.CUST_NM    , A.ENG_ADDR 			     , A.BL_ADDR     , A.ZIP_NO       , A.TEL_NO     , A.FAX_NO     , A.CRN 			     , A.CEO         , A.BIZCOND      , A.BIZTYPE     			     , A.CURR_CD     , A.CTRY_CD      , A.FIRM_CD     , A.ORGN_NM			     , A.LOC_AMT_ROUND_RULE     , A.VAT_AMT_ROUND_RULE 			     , A.JOB_TYPE    , A.CITY_CD      , A.INS_USR			     , TO_CHAR(A.RMK)  AS RMK,  X.LOC_FRGN_TYPE			     , A.SUB_PLACE_CD			  FROM MDM_CUST_MST A	 			  		LEFT OUTER JOIN MDM_CUST_OFFICE X 			  		        ON X.CUST_CD = A.CUST_CD 			  		       AND X.OFFICE_CD = '@OFFICE_CD'			 WHERE A.USE_YN = 'Y'	 				[SELL_BUY_TYPE]				 	AND X.SELL_BUY_TYPE = '@SELL_BUY_TYPE'				[/SELL_BUY_TYPE]				[OFFICE_TYPE]					AND X.OFFICE_CD = '@OFFICE_CD'					[/OFFICE_TYPE]						        AND A.CUST_CD IN (		             SELECT X.REQ_CD		               FROM MDM_LANG_NAME X		              WHERE X.ITEM_CD = 'C01'		                [EXACT_FALSE]		                    AND UPPER(X.LOC_NM) LIKE UPPER('%@KEY%')  		                [/EXACT_FALSE]		                [EXACT_TRUE]		                    AND UPPER(X.LOC_NM) LIKE UPPER('@KEY%')		                [/EXACT_TRUE]			             UNION ALL		             SELECT CUST_CD		               FROM MDM_CUST_MST		              WHERE 1 = 1		                [EXACT_FALSE]		                    AND CUST_CD LIKE UPPER('%@KEY%')		                [/EXACT_FALSE]		                [EXACT_TRUE]		                    AND CUST_CD LIKE UPPER('@KEY%')		                [/EXACT_TRUE]			              )		   [FULL_SEARCH]                			    UNION	 				SELECT A.CUST_CD     , A.CUST_GRP_CD  , A.USE_YN     , A.CUST_NM    , A.ENG_ADDR 				     , A.BL_ADDR     , A.ZIP_NO       , A.TEL_NO     , A.FAX_NO     , A.CRN 				     , A.CEO         , A.BIZCOND      , A.BIZTYPE     				     , A.CURR_CD     , A.CTRY_CD      , A.FIRM_CD     , A.ORGN_NM				     , A.LOC_AMT_ROUND_RULE     , A.VAT_AMT_ROUND_RULE 				     , A.JOB_TYPE    , A.CITY_CD      , A.INS_USR				     , TO_CHAR(A.RMK)  AS RMK,  X.LOC_FRGN_TYPE				     , A.SUB_PLACE_CD				  FROM MDM_CUST_MST A	 				  		LEFT OUTER JOIN MDM_CUST_OFFICE X 				  		        ON X.CUST_CD = A.CUST_CD 				  		       AND X.OFFICE_CD = '@OFFICE_CD'				 WHERE A.USE_YN = 'Y'						[SELL_BUY_TYPE]					 	AND X.SELL_BUY_TYPE = '@SELL_BUY_TYPE'					[/SELL_BUY_TYPE]					[OFFICE_TYPE]						AND X.OFFICE_CD = '@OFFICE_CD'						[/OFFICE_TYPE]									   [EXACT_FALSE]					    AND (   A.CRN      LIKE '%@KEY%'				             OR A.ENG_ADDR LIKE '%@KEY%'				             OR A.CEO      LIKE '%@KEY%'				             OR A.CTRY_CD  LIKE '%@KEY%'				             OR A.CUST_CD  LIKE '%@KEY%'	  		                 [SEARCH_OTH]	  		                 		OR A.CUSTOM_INFO1 LIKE '%@KEY%'	  		                 		OR A.CUSTOM_INFO2 LIKE '%@KEY%'	  		                 		OR A.CUSTOM_INFO3 LIKE '%@KEY%'	  		                 [/SEARCH_OTH]				             					         OR A.CUST_CD IN (					             SELECT X.REQ_CD					               FROM MDM_LANG_NAME X					              WHERE X.ITEM_CD = 'C02'	  		                        AND UPPER(X.LOC_NM) LIKE UPPER('%@KEY%')) 				          )			       [/EXACT_FALSE]   				   [EXACT_TRUE]					    AND (   A.CRN      LIKE '@KEY%'				             OR A.ENG_ADDR LIKE '@KEY%'				             OR A.CEO      LIKE '@KEY%'				             OR A.CTRY_CD  LIKE '@KEY%'				             OR A.CUST_CD  LIKE '@KEY%'	  		                 [SEARCH_OTH]	  		                 		OR A.CUSTOM_INFO1 LIKE '%@KEY%'	  		                 		OR A.CUSTOM_INFO2 LIKE '%@KEY%'	  		                 		OR A.CUSTOM_INFO3 LIKE '%@KEY%'	  		                 [/SEARCH_OTH]					             					         OR A.CUST_CD IN (					             SELECT X.REQ_CD					               FROM MDM_LANG_NAME X					              WHERE X.ITEM_CD = 'C02'	  		                        AND UPPER(X.LOC_NM) LIKE UPPER('@KEY%')) 				          )			       [/EXACT_TRUE]  			       		   [/FULL_SEARCH]    		                       [/SEARCH_NULL]) AWHERE 1=1 	      [CUST_TYPE]        AND A.CUST_CD = (SELECT MAX(CUST_CD)                            FROM MDM_CUST_TYPE                           WHERE CUST_CD = A.CUST_CD                            AND CUST_TYPE = '@CUST_TYPE'                            AND OFFICE_CD = '@OFFICE_CD')   [/CUST_TYPE]	     ORDER BY A.CUST_CD
#CodeServiceTMS@TmsLiteDriver_LIST
--CodeServiceTMS@TmsDriver3_SEARCHSELECT DRM.DRV_CD AS CODE 	 , DRM.DRV_NM AS NAME  FROM TMS_DRV_MST DRM WHERE DRM.USE_YN ='Y'  [CUST_CD]   AND DRM.TRANS_CD = '@CUST_CD'  [/CUST_CD]
#CodeServiceTMS@TmsLiteDriver_SEARCH
--CodeServiceTMS@TmsDriver3_SEARCHSELECT DRM.DRV_CD AS CODE 	 , DRM.DRV_NM AS NAME  FROM TMS_DRV_MST DRM WHERE DRM.USE_YN ='Y'   AND DRM.DRV_CD LIKE '%@KEY%'  [CUST_CD]   AND DRM.CUST_CD = '@CUST_CD'  [/CUST_CD]
#CodeServiceTMS@TmsLiteDriver_VALIDATE
--CodeServiceTMS@TmsDriver3_SEARCHSELECT DRM.DRV_CD AS CODE 	 , DRM.DRV_NM AS NAME	 , DRM.HP_NO AS HP_NO  FROM TMS_DRV_MST DRM WHERE DRM.USE_YN ='Y'   AND ((DRM.DRV_CD LIKE '%@KEY%') OR (DRM.DRV_NM LIKE '%@KEY%'))
#CodeServiceTMS@TmsLiteTrcuk_SEARCH
SELECT T.TRK_CD AS code     , T.TRK_NO || ' / ' || NVL(D.DRV_CD,T.DRV_CD) AS NAME     	 , T.TRANS_CD	 , UFN_TABLE_ITEM('CUST_LOC_NM',T.TRANS_CD,'@LANG_CD','') AS TRANS_NM	 , T.CUST_CD	 , UFN_TABLE_ITEM('CUST_LOC_NM',T.CUST_CD,'@LANG_CD','') AS CUST_NM	 , T.SEND_IDNO	 , T.MGT_RATE AS MGT_RATIO	 , T.CTRT_TYPE  FROM TMS_TRK_MST T  LEFT  JOIN TMS_DRV_MST D    ON T.DRV_CD = D.DRV_CD WHERE T.TRK_NO || D.DRV_CD LIKE '%@KEY%'   AND T.USE_YN = 'Y'  [CUST_CD]   AND T.TRANS_CD = '@CUST_CD'  [/CUST_CD] ORDER BY T.TRK_CD
#CodeServiceTMS@TmsLiteTrcuk_VALIDATE
SELECT T.TRK_CD AS code	 , T.TRK_NO	AS Name     , NVL(D.DRV_CD,T.DRV_CD) AS Drv_nm     , NVL(D.HP_NO, T.TEL) AS HP_NO	 , T.TRANS_CD	 , UFN_TABLE_ITEM('CUST_LOC_NM',T.TRANS_CD,'@LANG_CD','') AS TRANS_NM	 , T.CUST_CD	 , UFN_TABLE_ITEM('CUST_LOC_NM',T.CUST_CD,'@LANG_CD','') AS CUST_NM	 , T.SEND_IDNO	 , T.MGT_RATE AS MGT_RATIO	 , T.CTRT_TYPE  FROM TMS_TRK_MST T  LEFT  JOIN TMS_DRV_MST D    ON T.DRV_CD = D.DRV_CD WHERE T.USE_YN = 'Y'   [VALIDATE]   	   AND T.TRK_CD 	= '@KEY'    	   AND T.TRANS_CD 	LIKE '%@KEY2%'    [/VALIDATE]   [VALIDATE_LIKE]       AND T.TRK_CD || T.TRK_NO LIKE '%@KEY%'        AND T.TRANS_CD 	LIKE '%@KEY2%'    [/VALIDATE_LIKE]   -- AND ((A.CUST_NM LIKE '%@KEY%') OR (UFN_LOCAL_NAME('@LANG_CD',A.CUST_CD,'C01','',A.CUST_NM,'','','') LIKE '%@KEY%')) ORDER BY T.TRK_CD
#CodeServiceTMS@TmsLiteTruck_LIST
SELECT T.TRK_CD AS code     , T.TRK_NO || ' / ' || NVL(D.DRV_CD,T.DRV_CD) AS NAME	 , T.TRANS_CD	 , UFN_TABLE_ITEM('CUST_LOC_NM',T.TRANS_CD,'@LANG_CD','') AS TRANS_NM	 , T.CUST_CD	 , UFN_TABLE_ITEM('CUST_LOC_NM',T.CUST_CD,'@LANG_CD','') AS CUST_NM	 , T.SEND_IDNO	 , T.MGT_RATE AS MGT_RATIO  FROM TMS_TRK_MST T  LEFT  JOIN TMS_DRV_MST D    ON T.DRV_CD = D.DRV_CD WHERE T.USE_YN = 'Y'  [CUST_CD]   AND T.TRANS_CD = '@CUST_CD'  [/CUST_CD]
#CodeServiceTMS@TmsnLoc_LIST
--CodeServiceTMS@TmsnLoc_LISTSELECT LOC_CD AS Code     , LOC_NM AS Name  FROM TMSN_LOC_MST WHERE OFFICE_CD = '@OFFICE_CD'   [BRAND_CD]   AND BRAND_CD = '@BRAND_CD'   [/BRAND_CD] ORDER BY LOC_CD
#CodeServiceTMS@TmsnLoc_SEARCH
--CodeServiceTMS@TmsnLoc_SEARCHSELECT LOC_CD AS Code     , LOC_NM || '[' || BUILDING_CD || ']' || '[' || BRAND_CD || ']' AS Name  FROM TMSN_LOC_MST WHERE LOC_CD || LOC_NM || BUILDING_CD LIKE '%@KEY%'   AND OFFICE_CD = '@OFFICE_CD'   [BRAND_CD]   AND BRAND_CD IN (CASE WHEN '@BRAND_CD' = 'BCH' THEN 'BBCHSH'                                         ELSE 'RRF'                                  END                                  , '@BRAND_CD')   [/BRAND_CD] ORDER BY LOC_CD
#CodeServiceTMS@TmsnLoc_VALIDATE
--CodeServiceTMS@TmsnLoc_VALIDATEWITH SEQ_TB AS (SELECT MIN(SEQ) AS SEQ  FROM TMSN_LOC_CUSTPIC WHERE LOC_CD = '@KEY'   AND OFFICE_CD = '@OFFICE_CD')SELECT L.LOC_CD AS Code     , L.LOC_NM AS Name     , C.CUST_PIC_NM AS LOC_PIC_CD     , NVL(L.LOC_PIC,C.CUST_PIC_NM) AS LOC_PIC_NM     , NVL(L.LOC_TEL_NO,C.CUST_PIC_TEL_NO) AS LOC_TEL_NO     , L.LOC_ADDR     , L.IVN_YN  FROM TMSN_LOC_MST L  LEFT JOIN TMSN_LOC_CUSTPIC C    ON L.LOC_CD = C.LOC_CD   AND C.SEQ IN (SELECT SEQ FROM SEQ_TB) WHERE L.LOC_CD = '@KEY'   AND L.OFFICE_CD = '@OFFICE_CD'   [BRAND_CD]   AND BRAND_CD IN (CASE WHEN '@BRAND_CD' = 'BCH' THEN 'BCH'                                         ELSE 'RRF'                                  END                                  , '@BRAND_CD')   [/BRAND_CD]
#CodeServiceTMS@TmsnLocPic_LIST
--CodeServiceTMS@TmsnLocPic_LISTSELECT CUST_PIC_CD AS Code     , CUST_PIC_NM AS Name  FROM TMSN_LOC_CUSTPIC WHERE LOC_CD = '@LOC' ORDER BY CUST_PIC_CD
#CodeServiceTMS@TmsnLocPic_SEARCH
--CodeServiceTMS@TmsnLocPic_SEARCHSELECT CUST_PIC_CD AS Code     , CUST_PIC_NM AS Name  FROM TMSN_LOC_CUSTPIC WHERE LOC_CD = '@LOC'   AND CUST_PIC_CD LIKE '%@KEY%' ORDER BY CUST_PIC_CD
#CodeServiceTMS@TmsnLocPic_VALIDATE
--CodeServiceTMS@TmsnLocPic_VALIDATESELECT CUST_PIC_CD AS Code     , CUST_PIC_NM AS Name     , CUST_PIC_EMAIL AS PIC_EMAIL     , CUST_PIC_TEL_NO AS PIC_TEL_NO  FROM TMSN_LOC_CUSTPIC WHERE LOC_CD = '@LOC'   AND CUST_PIC_CD = '@KEY'
#CodeServiceTMS@TmsnTrkList
--CodeServiceTMS@TmsnTrkListSELECT TRK_CD AS CODE     , TRK_NO AS NAME  FROM TMSN_TRK_MST  [TYPE] WHERE DLV_TYPE = '@TYPE'  [/TYPE]
#CodeServiceTMS@TmsnTrkSearch
--CodeServiceTMS@TmsnTrkSearchSELECT TRK_CD AS CODE     , TRK_NO AS NAME  FROM TMSN_TRK_MST WHERE TRK_CD LIKE '%@KEY%' [TYPE]   AND DLV_TYPE = '@TYPE' [/TYPE]
#CodeServiceTMS@TmsnTrkValidate
--CodeServiceTMS@TmsnTrkValidateSELECT T.TRK_CD AS CODE     , T.TRK_NO AS NAME     , T.DLV_TYPE     , T.DRV_DEPT_CD     , D.DEPT_NM AS DRV_DEPT_NM     , NVL(R.DRV_CD,T.DRV_CD) AS DRV_CD     , NVL(R.DRV_NM,T.DRV_NM) AS DRV_NM     , R.DRV_HP_NO     , R.DRV_EMAIL  FROM TMSN_TRK_MST T  LEFT JOIN MDM_DEPT_MST D    ON T.OFFICE_CD = D.OFFICE_CD   AND T.DRV_DEPT_CD = D.DEPT_CD  LEFT JOIN TMSN_TRK_DRV R      ON T.TRK_CD = R.TRK_CD WHERE T.TRK_CD = '@KEY' [TYPE]   AND T.DLV_TYPE = '@TYPE' [/TYPE] ORDER BY R.SEQ
#CodeServiceTMS@TmsPort_SEARCH
SELECT*FROM(SELECT '1' AS SEQ     , LOC_CD AS CODE      , LOC_NM AS NAME  FROM MDM_PORT_MST WHERE LOC_CD || LOC_NM LIKE '%@KEY%'    AND LOC_TYPE = 'I'   AND USE_YN = 'Y'UNION ALLSELECT '2' AS SEQ     , WH_CD AS CODE     , WH_NM AS NAME  FROM MDM_WH_MST WHERE WH_CD || WH_NM LIKE '%@KEY%'   AND USE_YN = 'Y'UNION ALLSELECT '3' AS SEQ     , CUST_CD AS CODE     , UFN_LOCAL_NAME('ko-KR',CUST_CD,'C01','',CUST_NM,'','','') AS CUST_LOCNM  FROM MDM_CUST_MST WHERE CUST_CD || CUST_NM LIKE '%@KEY%'   AND CTRY_CD = 'KR'   AND USE_YN = 'Y'      )AORDER BY A.SEQ, A.CODE
#CodeServiceTMS@TmsPort_VALIDATE
SELECTA.*FROM(SELECT LOC_CD AS CODE      , LOC_NM AS NAME  FROM MDM_PORT_MST WHERE LOC_CD = '@KEY'    AND LOC_TYPE = '@PORT_TYPE'   AND USE_YN = 'Y'UNION ALLSELECT WH_CD AS CODE      , WH_NM AS NAME  FROM MDM_WH_MST WHERE WH_CD = '@KEY'    AND USE_YN = 'Y'UNION ALLSELECT CUST_CD AS CODE      , UFN_LOCAL_NAME('ko-KR',CUST_CD,'C01','',CUST_NM,'','','') AS CUST_LOCNM  FROM MDM_CUST_MST WHERE CUST_CD = '@KEY'    AND CTRY_CD = 'KR'   AND USE_YN = 'Y')A 
#CodeServiceTMS@TmsTrafficCalming_LIST
SELECT 	 [T]	   TRF_TYPE AS CODE	 , TRF_TYPE AS NAME	 [/T]	 [S]	   FR_PORT AS CODE	 , FR_PORT AS NAME	 [/S]	 [P]	   ONEWAY_DEPOT AS CODE	 , ONEWAY_DEPOT AS NAME	 [/P]	 [C]	   CITY AS CODE	 , CITY AS NAME	 [/C]	 [D]	   STREET AS CODE	 , STREET AS NAME	 [/D]  FROM TMS_TRF_STD_CRM [T] GROUP     BY TRF_TYPE [/T] [S] WHERE FR_PORT IS NOT NULL GROUP     BY FR_PORT [/S] [P] WHERE ONEWAY_DEPOT IS NOT NULL GROUP     BY ONEWAY_DEPOT [/P] [C] WHERE CITY IS NOT NULL GROUP     BY CITY [/C] [D] WHERE CITY = '@CITY' GROUP     BY STREET [/D] ORDER     BY CODE
#CodeServiceTMS@TmsTrafficCalming_SEARCH
SELECT 	 [T]	   TRF_TYPE AS CODE	 , TRF_TYPE AS NAME	 [/T]	 [S]	   FR_PORT AS CODE	 , FR_PORT AS NAME	 [/S]	 [P]	   ONEWAY_DEPOT AS CODE	 , ONEWAY_DEPOT AS NAME	 [/P]	 [C]	   CITY AS CODE	 , CITY AS NAME	 [/C]	 [D]	   STREET AS CODE	 , STREET AS NAME	 [/D]  FROM TMS_TRF_STD_CRM [T] WHERE TRF_TYPE LIKE '%@CODE%' GROUP     BY TRF_TYPE [/T] [S] WHERE FR_PORT LIKE '%@CODE%'   AND FR_PORT IS NOT NULL GROUP     BY FR_PORT [/S] [P] WHERE ONEWAY_DEPOT LIKE '%@CODE%'   AND ONEWAY_DEPOT IS NOT NULL GROUP     BY ONEWAY_DEPOT [/P] [C] WHERE CITY LIKE '%@CODE%'   AND CITY IS NOT NULL GROUP     BY CITY [/C] [D] WHERE CITY = '@CITY'   AND STREET LIKE '%@CODE%'   AND STREET IS NOT NULL GROUP     BY STREET [/D] ORDER     BY CODE
#CodeServiceTMS@TmsTrafficCalming_VALIDATE
SELECT 	 [T]	   TRF_TYPE AS CODE	 , TRF_TYPE AS NAME	 [/T]	 [S]	   FR_PORT AS CODE	 , FR_PORT AS NAME	 [/S]	 [P]	   ONEWAY_DEPOT AS CODE	 , ONEWAY_DEPOT AS NAME	 [/P]	 [C]	   CITY AS CODE	 , CITY AS NAME	 [/C]	 [D]	   STREET AS CODE	 , STREET AS NAME	 [/D]  FROM TMS_TRF_STD_CRM [T] WHERE TRF_TYPE = '@CODE' GROUP     BY TRF_TYPE [/T] [S] WHERE FR_PORT = '@CODE'   AND FR_PORT IS NOT NULL GROUP     BY FR_PORT [/S] [P] WHERE ONEWAY_DEPOT = '@CODE'   AND ONEWAY_DEPOT IS NOT NULL GROUP     BY ONEWAY_DEPOT [/P] [C] WHERE CITY = '@CODE'   AND CITY IS NOT NULL GROUP     BY CITY [/C] [D] WHERE CITY 	= '@CITY'   AND STREET = '@CODE'   AND STREET IS NOT NULL GROUP     BY STREET [/D]
#CodeServiceTMS@TmsTruckLIST
Select CAR_NO AS CODE	,LISENCE_NO AS NAME	,RTRIM(CUST_CD) AS TRANS_CD	,UFN_TABLE_ITEM('CUST_LOC_NM',C.CUST_CD,'@LANG_CD','') AS TRANS_NM	,CONT_TYPE AS CAR_GB	--,CUR_CHASSIS_NO AS CHASSIS_NO	,'' AS CHASSIS_NO	,CUR_DRV_CD AS DRV_CD	,CUR_DRV_NM AS DRV_NM	,CAR_OWN_HP	,CAR_TYPE	,RTRIM(CAR_EDI_NO) || '(' || SUBSTR(LISENCE_NO,1,5) || ')' AS CAR_EDI_NOFrom TMSCARMST C
#CodeServiceTMS@TmsTruckSEARCH
Select CAR_NO AS CODE	,LISENCE_NO AS NAME	,RTRIM(CUST_CD) AS TRANS_CD	,UFN_TABLE_ITEM('CUST_LOC_NM',C.CUST_CD,'@LANG_CD','') AS TRANS_NM	,CONT_TYPE AS CAR_GB	--,CUR_CHASSIS_NO AS CHASSIS_NO	,'' AS CHASSIS_NO	,CUR_DRV_CD AS DRV_CD	,CUR_DRV_NM AS DRV_NM	,CAR_OWN_HP	,CAR_TYPE	,RTRIM(CAR_EDI_NO) || '(' || SUBSTR(LISENCE_NO,1,5) || ')' AS CAR_EDI_NOFrom TMSCARMST CWhere CAR_NO || LISENCE_NO LIKE '%@KEY%'  AND RUN_YN = 'Y'[Type]  And (CONT_ED_DT >= sysdate            Or CONT_ED_DT is Null)[/Type]
#CodeServiceTMS@TmsTruckVALIDATE
Select CAR_NO AS CODE	,LISENCE_NO AS NAME	,RTRIM(CUST_CD) AS TRANS_CD	,UFN_TABLE_ITEM('CUST_LOC_NM',C.CUST_CD,'@LANG_CD','') AS TRANS_NM	,CONT_TYPE AS CAR_GB	--,CUR_CHASSIS_NO AS CHASSIS_NO	,'' AS CHASSIS_NO	,CUR_DRV_CD AS DRV_CD	,CUR_DRV_NM AS DRV_NM	,CAR_OWN_HP	,CAR_TYPE	,RTRIM(CAR_EDI_NO) || '(' || SUBSTR(LISENCE_NO,1,5) || ')' AS CAR_EDI_NOFrom TMSCARMST CWhere CAR_NO = '@KEY'[Type]  And (CONT_ED_DT >= sysdate            Or CONT_ED_DT is Null)[/Type]
#CodeServiceTMS@TruckNoSearch
-- CodeServiceTMS@TruckNoSearch-- EPU VersionSELECT A.TRKFLNO AS CODE     , A.TRANID AS TRUCK_CD     , C.CUST_NM AS TRUCK_NM     , B.ID      , B.NAME AS TR_DRV             , B.HPNO AS TR_HP_NO                    FROM TMS_TRUCK A        LEFT OUTER JOIN TMS_DRIVER B              ON A.DRIVERID = B.ID        LEFT OUTER JOIN MDM_CUST_MST C              ON A.TRANID = C.CUST_CD
#CodeServiceTMS@TruckNoValidate
-- CodeServiceTMS@TruckNoValidate-- EPU VersionSELECT A.TRKFLNO AS CODE     , A.TRANID AS TRUCK_CD     , C.CUST_NM AS TRUCK_NM     , B.ID      , B.NAME AS TR_DRV             , B.HPNO AS TR_HP_NO                    FROM TMS_TRUCK A        LEFT OUTER JOIN TMS_DRIVER B              ON A.DRIVERID = B.ID        LEFT OUTER JOIN MDM_CUST_MST C              ON A.TRANID = C.CUST_CD WHERE A.TRKFLNO = '@KEY'             
#CodeServiceTMS@User
-- CodeService@UserSELECT USR_ID     , LOC_NM AS LOCAL_NM     , ENG_NM     , HP_NO     , TEL_NO AS TEL     , FAX_NO AS FAX     , EMAIL     , OFFICE_CD     , DEPT_CD     ,(SELECT DEPT_NM          FROM MDM_DEPT_MST          WHERE DEPT_CD = A.DEPT_CD           AND OFFICE_CD = A.OFFICE_CD       ) AS DEPT_NM     , SALES_LVL     , AUTH_TYPE     , UFN_TABLE_ITEM('CUST_LOC_ADDR',OFFICE_CD,'@LANG_CD','') AS OFFICE_ADDR     , UFN_TABLE_ITEM('CUST_LOC_NM',OFFICE_CD,'@LANG_CD','') AS CUST_LOCNM  FROM MDM_USER_MST A WHERE 1=1   AND USR_ID = '@UserID'   AND USE_YN = 'Y' ORDER BY LOC_NM    
