#SvrInfoLogList@InsertCRM_SERVER_DB_DTL
--SvrInfoLogList@InsertCRM_SERVER_DB_DTLINSERT INTO CRM_SERVER_DB_DTL (       SERVER_IP     , DATA_DIV     , CHECK_YMD     , CHECK_HM     , TABLESPACE     [TOTAL_MB], TOTAL_MB[/TOTAL_MB]     [USED_MB], USED_MB[/USED_MB]     [FREE_MB], FREE_MB[/FREE_MB]     [USED_RATE], USED_RATE[/USED_RATE]     [USER_CNT], USER_CNT[/USER_CNT]     [USER_ACTIVE_INFO], USER_ACTIVE_INFO[/USER_ACTIVE_INFO]     [USER_INACTIVE_INFO], USER_INACTIVE_INFO[/USER_INACTIVE_INFO]) VALUES (       '@SERVER_IP'     , '@DATA_DIV'     , '@CHECK_YMD'     , '@CHECK_HM'     , '@TABLESPACE'     [TOTAL_MB], @TOTAL_MB[/TOTAL_MB]     [USED_MB], @USED_MB[/USED_MB]     [FREE_MB], @FREE_MB[/FREE_MB]     [USED_RATE], @USED_RATE[/USED_RATE]     [USER_CNT], @USER_CNT[/USER_CNT]     [USER_ACTIVE_INFO], '@USER_ACTIVE_INFO'[/USER_ACTIVE_INFO]     [USER_INACTIVE_INFO], '@USER_INACTIVE_INFO'[/USER_INACTIVE_INFO])
#SvrInfoLogList@InsertCRM_SERVER_INFO_LOG
--SvrInfoLogList@InsertCRM_SERVER_INFO_LOGBEGIN  [LAST_DATA_YN]	UPDATE CRM_SERVER_INFO_LOG 	   SET LAST_DATA_YN = 'N'	 WHERE SERVER_IP = '@SERVER_IP'	   AND DATA_DIV = '@DATA_DIV'	   AND LAST_DATA_YN = '@LAST_DATA_YN';  [/LAST_DATA_YN]    	INSERT INTO CRM_SERVER_INFO_LOG (	       SERVER_IP	     , DATA_DIV	     , CHECK_YMD	     , CHECK_HM	     [SERVER_DIV], SERVER_DIV[/SERVER_DIV]	     [OS_INFO], OS_INFO[/OS_INFO]	     [CPU_INFO], CPU_INFO[/CPU_INFO]	     [CPU_CORE], CPU_CORE[/CPU_CORE]	     [CPU_USE_RATE], CPU_USE_RATE[/CPU_USE_RATE]	     [RAM_TOTAL], RAM_TOTAL[/RAM_TOTAL]	     [RAM_USE], RAM_USE[/RAM_USE]	     [RAM_USE_RATE], RAM_USE_RATE[/RAM_USE_RATE]	     [HDD_INFO], HDD_INFO[/HDD_INFO]	     [HDD_1_TOTAL], HDD_1_TOTAL[/HDD_1_TOTAL]	     [HDD_1_USE], HDD_1_USE[/HDD_1_USE]	     [HDD_1_USE_RATE], HDD_1_USE_RATE[/HDD_1_USE_RATE]	     [HDD_2_TOTAL], HDD_2_TOTAL[/HDD_2_TOTAL]	     [HDD_2_USE], HDD_2_USE[/HDD_2_USE]	     [HDD_2_USE_RATE], HDD_2_USE_RATE[/HDD_2_USE_RATE]	     [HDD_3_TOTAL], HDD_3_TOTAL[/HDD_3_TOTAL]	     [HDD_3_USE], HDD_3_USE[/HDD_3_USE]	     [HDD_3_USE_RATE], HDD_3_USE_RATE[/HDD_3_USE_RATE]	     [DB_PROC_USE], DB_PROC_USE[/DB_PROC_USE]	     [DB_PROC_MAX_USE], DB_PROC_MAX_USE[/DB_PROC_MAX_USE]	     [DB_PROC_LIMIT], DB_PROC_LIMIT[/DB_PROC_LIMIT]	     [DB_SESS_USE], DB_SESS_USE[/DB_SESS_USE]	     [DB_SESS_MAX_USE], DB_SESS_MAX_USE[/DB_SESS_MAX_USE]	     [DB_SESS_LIMIT], DB_SESS_LIMIT[/DB_SESS_LIMIT]	     [LAST_DATA_YN], LAST_DATA_YN[/LAST_DATA_YN]	) VALUES (	       '@SERVER_IP'	     , '@DATA_DIV'	     , '@CHECK_YMD'	     , '@CHECK_HM'	     [SERVER_DIV], '@SERVER_DIV'[/SERVER_DIV]	     [OS_INFO], '@OS_INFO'[/OS_INFO]	     [CPU_INFO], '@CPU_INFO'[/CPU_INFO]	     [CPU_CORE], @CPU_CORE[/CPU_CORE]	     [CPU_USE_RATE], @CPU_USE_RATE[/CPU_USE_RATE]	     [RAM_TOTAL], @RAM_TOTAL[/RAM_TOTAL]	     [RAM_USE], @RAM_USE[/RAM_USE]	     [RAM_USE_RATE], @RAM_USE_RATE[/RAM_USE_RATE]	     [HDD_INFO], '@HDD_INFO'[/HDD_INFO]	     [HDD_1_TOTAL], @HDD_1_TOTAL[/HDD_1_TOTAL]	     [HDD_1_USE], @HDD_1_USE[/HDD_1_USE]	     [HDD_1_USE_RATE], @HDD_1_USE_RATE[/HDD_1_USE_RATE]	     [HDD_2_TOTAL], @HDD_2_TOTAL[/HDD_2_TOTAL]	     [HDD_2_USE], @HDD_2_USE[/HDD_2_USE]	     [HDD_2_USE_RATE], @HDD_2_USE_RATE[/HDD_2_USE_RATE]	     [HDD_3_TOTAL], @HDD_3_TOTAL[/HDD_3_TOTAL]	     [HDD_3_USE], @HDD_3_USE[/HDD_3_USE]	     [HDD_3_USE_RATE], @HDD_3_USE_RATE[/HDD_3_USE_RATE]	     [DB_PROC_USE], @DB_PROC_USE[/DB_PROC_USE]	     [DB_PROC_MAX_USE], @DB_PROC_MAX_USE[/DB_PROC_MAX_USE]	     [DB_PROC_LIMIT], @DB_PROC_LIMIT[/DB_PROC_LIMIT]	     [DB_SESS_USE], @DB_SESS_USE[/DB_SESS_USE]	     [DB_SESS_MAX_USE], @DB_SESS_MAX_USE[/DB_SESS_MAX_USE]	     [DB_SESS_LIMIT], @DB_SESS_LIMIT[/DB_SESS_LIMIT]	     [LAST_DATA_YN], '@LAST_DATA_YN'[/LAST_DATA_YN]	);END;
#SvrInfoLogList@Search
--SvrInfoLogList@SearchSELECT A.SERVER_IP     ,(SELECT Z.SERVER_IP_EXT FROM CRM_SERVER_MST Z WHERE Z.SERVER_IP = A.SERVER_IP) AS SERVER_IP_EXT     , A.DATA_DIV     , UFN_FORMAT(A.CHECK_YMD,'DATE') AS CHECK_YMD     , TO_CHAR(TO_DATE(A.CHECK_HM,'hh24miss'),'hh24:mi:ss') AS CHECK_HM     , A.SERVER_DIV     , A.OS_INFO     , A.CPU_INFO     , A.CPU_CORE     , A.CPU_USE_RATE     , A.RAM_TOTAL     , A.RAM_USE     , A.RAM_USE_RATE     , A.HDD_INFO     , A.HDD_1_TOTAL     , A.HDD_1_USE     , A.HDD_1_USE_RATE     , A.HDD_2_TOTAL     , A.HDD_2_USE     , A.HDD_2_USE_RATE     , A.HDD_3_TOTAL     , A.HDD_3_USE     , A.HDD_3_USE_RATE     , A.HDD_4_TOTAL     , A.HDD_4_USE     , A.HDD_4_USE_RATE     , A.HDD_5_TOTAL     , A.HDD_5_USE     , A.HDD_5_USE_RATE     , A.HDD_6_TOTAL     , A.HDD_6_USE     , A.HDD_6_USE_RATE     , A.DB_PROC_USE     , A.DB_PROC_MAX_USE     , A.DB_PROC_LIMIT     , A.DB_SESS_USE     , A.DB_SESS_MAX_USE     , A.DB_SESS_LIMIT     , A.LAST_DATA_YN     , ' ' AS USER_ACTIVE_INFO --화면초기화 용도  FROM CRM_SERVER_INFO_LOG A WHERE 1 = 1 [DATE_FROM]   AND A.CHECK_YMD >= '@DATE_FROM' [/DATE_FROM] [DATE_TO]   AND A.CHECK_YMD <= '@DATE_TO' [/DATE_TO] [IP_SEH]   [IP_SEH_DIV_A]     AND (A.SERVER_IP = '@IP_SEH'          OR A.SERVER_IP IN (SELECT Z.SERVER_IP FROM CRM_SERVER_MST Z WHERE Z.SERVER_IP_EXT = '@IP_SEH')          OR A.SERVER_DIV = '@IP_SEH'          OR A.OS_INFO LIKE '%@IP_SEH%'          OR A.CPU_INFO LIKE '%@IP_SEH%'         )   [/IP_SEH_DIV_A]   [IP_SEH_DIV_B]     AND A.SERVER_IP = '@IP_SEH'   [/IP_SEH_DIV_B]   [IP_SEH_DIV_C]     AND A.SERVER_IP IN (SELECT Z.SERVER_IP FROM CRM_SERVER_MST Z WHERE Z.SERVER_IP_EXT = '@IP_SEH')   [/IP_SEH_DIV_C]   [IP_SEH_DIV_D]     AND A.SERVER_DIV = '@IP_SEH'   [/IP_SEH_DIV_D]   [IP_SEH_DIV_E]     AND A.OS_INFO LIKE '%@IP_SEH%'   [/IP_SEH_DIV_E]   [IP_SEH_DIV_F]     AND A.CPU_INFO LIKE '%@IP_SEH%'   [/IP_SEH_DIV_F] [/IP_SEH] [LAST_DATA_Y]   AND A.LAST_DATA_YN = '@LAST_DATA_Y' [/LAST_DATA_Y] [DATA_DIV]   AND A.DATA_DIV = '@DATA_DIV' [/DATA_DIV] [TIME_FROM]   AND A.CHECK_HM >= '@TIME_FROM' [/TIME_FROM] [TIME_TO]   AND A.CHECK_HM <= '@TIME_TO' [/TIME_TO]ORDER BY A.SERVER_IP, A.DATA_DIV, A.CHECK_YMD DESC, A.CHECK_HM DESC, A.SERVER_DIV
#SvrInfoLogList@SearchActive
--SvrInfoLogList@SearchActiveSELECT '================================' || CHR(13)||CHR(10)    || 'USER ACTIVE ('||A.TABLESPACE||')'  || CHR(13)||CHR(10)    || '================================' || CHR(13)||CHR(10)    || REPLACE(A.USER_ACTIVE_INFO,',',CHR(13)||CHR(10)) || CHR(13)||CHR(10)     || '================================' || CHR(13)||CHR(10)    || 'USER INACTIVE OR NOT ('||A.TABLESPACE||')'  || CHR(13)||CHR(10)    || '================================' || CHR(13)||CHR(10)    || REPLACE(A.USER_INACTIVE_INFO,',',CHR(13)||CHR(10)) AS USER_ACTIVE_INFO  FROM CRM_SERVER_DB_DTL A WHERE A.SERVER_IP = '@SERVER_IP'   AND A.DATA_DIV = '@DATA_DIV'   AND A.CHECK_YMD = '@CHECK_YMD'   AND A.CHECK_HM = '@CHECK_HM'   AND A.TABLESPACE = '@TABLESPACE'
#SvrInfoLogList@SearchDetail
--SvrInfoLogList@SearchDetailSELECT A.TABLESPACE     , ROUND(A.USER_CNT,1) AS USER_CNT     , ROUND(A.TOTAL_MB/1024,1) AS TOTAL_MB     , ROUND(A.USED_MB/1024,1) AS USED_MB     , ROUND(A.FREE_MB/1024,1) AS FREE_MB     , ROUND(A.USED_RATE,1) AS USED_RATE FROM CRM_SERVER_DB_DTL AWHERE A.SERVER_IP = '@SERVER_IP'  AND A.DATA_DIV = '@DATA_DIV'  AND A.CHECK_YMD = '@CHECK_YMD'  AND A.CHECK_HM = '@CHECK_HM'ORDER BY TABLESPACE 
#SvrInfoLogList@SearchRPAAuthKey
--SvrInfoLogList@SearchRPAAuthKey
SELECT A.CUST_CD
     , A.MNGT_NO
     , A.AUTH_KEY
  FROM RPA_AUTH_KEY A 
 WHERE A.CUST_CD = '@CUST_CD'
   AND A.USE_YN ='Y'
#SvrInfoLogList@SearchRPAInfo
--SvrInfoLogList@SearchRPAInfoSELECT A.CUST_CD
     , PKG_CRYPTO.DECRYPT(A.DB_ID,'Yjit1!43#2^3' || 'Key!#^') AS DB_ID      , PKG_CRYPTO.DECRYPT(A.DB_PWD,'Yjit1!43#2^3' || 'Key!#^') AS DB_PWD      , PKG_CRYPTO.DECRYPT(A.SVR_IP,'Yjit1!43#2^3' || 'Key!#^') AS SVR_IP   FROM CRM_CUST_SERVER A  WHERE A.CUST_CD = (SELECT CUST_CD FROM CRM_CUST_MST WHERE ELVIS_OFFICE_CD = '@OFFICE_CD')    AND A.SVR_TYPE ='D'    AND A.MAIN_YN = 'Y'
#SvrInfoLogList@SearchRPAInfo_20231005
--SvrInfoLogList@SearchRPAInfoSELECT PKG_CRYPTO.DECRYPT(A.DB_ID,'Yjit1!43#2^3' || 'Key!#^') AS DB_ID     , PKG_CRYPTO.DECRYPT(A.DB_PWD,'Yjit1!43#2^3' || 'Key!#^') AS DB_PWD     , PKG_CRYPTO.DECRYPT(A.SVR_IP,'Yjit1!43#2^3' || 'Key!#^') AS SVR_IP     , (SELECT B.AUTH_KEY FROM RPA_AUTH_KEY@DL_RPA B WHERE A.CUST_CD = B.CUST_CD AND B.USE_YN ='Y') AS AUTH_KEY    , (SELECT B.MNGT_NO FROM RPA_AUTH_KEY@DL_RPA B WHERE A.CUST_CD = B.CUST_CD AND B.USE_YN ='Y') AS MNGT_NOFROM CRM_CUST_SERVER A WHERE A.CUST_CD = (SELECT CUST_CD FROM CRM_CUST_MST WHERE ELVIS_OFFICE_CD = '@OFFICE_CD')     AND A.SVR_TYPE ='D'     AND A.MAIN_YN = 'Y'
#SvrInfoLogList@SearchTableName
--SvrInfoLogList@SearchTableNameSELECT *  FROM @TABLE_NAME WHERE SERVER_IP = 'X'
